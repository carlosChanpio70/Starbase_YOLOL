include "std/math"
include "std/logic"
define :Scan_Button = :SB
define :Display_1 = :SD1
define :Display_2 = :SD2
define :Material = :e
define :Volume = :t
define :Index = :o
define :Scan_Results = :Sq

if :Scan_button then
    line_skip = "\n"
    line_skip2 = line_skip+line_skip
    kv = " kv"+line_skip
    P100 = 100
    Stack = 172800
    Tier_01 = 6557
    Tier_02 = 7945
    Tier_03 = 11555
    Tier_04 = 12851
    Tier_05 = 17763
    Tier_06 = 19603
    Tier_07 = 45929
    Tier_08 = 31351
    Tier_09 = 215837
    Tier_10 = 468058
    MaxEF_01 = 20
    MaxEF_02 = 53
    MaxEF_03 = 69
    MaxEF_04 = 69
    MaxEF_05 = 38
    MaxEF_06 = 37
    MaxEF_07 = 39
    MaxEF_08 = 13
    MaxEF_09 = 69
    MaxEF_10 = 69
    :Scan = 1
    logic_wait(:Scan==1)
    Scan_Results = :Scan_Results
    Ore = "Ore"
    Crystal = "Crystal"
    if Scan_Results!=2 then
        Display_1 = line_skip2+"No Target"
        Display_2 = Display_1
    else
        :Index=0
        M1 = (:Material-Ore-Crystal)
        V1 = :Volume $
        :Index=1
        M2 = (:Material-Ore-Crystal)
        V2 = :Volume
        Stack_Res_1 = V1/Stack*P100
        Stack_Res_2 = V2/Stack*P100
        Total_Stacks = Stack_Res_1+Stack_Res_2
        Display_1 = M1+line_skip+V1+kv+M2+line_skip+V2+kv+Stack_Res_1+"|"+Stack_Res_2+line_skip+Total_Stacks+" Total"
        Volume = (V1+V2)
        if Volume<=Tier_01 then
            Tier=1
            Max_EF = MaxEF_01
        else if Volume<=Tier_02 then
            Tier=2
            Max_EF = MaxEF_02
        else if Volume<=Tier_03 then
            Tier=3
            Max_EF = MaxEF_03
        else if Volume<=Tier_04 then
            Tier=4
            Max_EF = MaxEF_04
        else if Volume<=Tier_05 then
            Tier=5
            Max_EF = MaxEF_05
        else if Volume<=Tier_06 then
            Tier=6
            Max_EF = MaxEF_06
        else if Volume<=Tier_08 then
            Tier=7
            Max_EF = MaxEF_07
        else if Volume<=Tier_07 then
            Tier=8
            Max_EF = MaxEF_08
        else if Volume<=Tier_09 then
            Tier=9
            Max_EF = MaxEF_09
        else if Volume<=Tier_10 then
            Tier=10
            Max_EF = MaxEF_10
        end
        EF = (V2/V1)*P100
        D1 = "\nTier: "+Tier+line_skip+Max_EF+"% Max\nEfficiency:\n" 
        Display_2 = D1+EF+"%\nRock Score:\n"+((EF/Max_EF)*P100)+"/100"
    end
else
    Display_1 = line_skip2+"  Offline"
    Display_2 = Display_1
end
:Display_1 = Display_1
:Display_2 = Display_2
Credits = "Made by Nax and Carlos"